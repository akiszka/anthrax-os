.gitignore

HOSTARCH = i386
ARCHDIR = arch/$(HOSTARCH)

&include_libc = libc/include
&include_os = os/include

&libc = libc/
&os = os/

CC = i686-elf-gcc
AR = i686-elf-ar

CFLAGS += -O2
CFLAGS += -g
CFLAGS += -ffreestanding
CFLAGS += -Wall
CFLAGS += -Wextra

!cc = |> $(CC) --sysroot=&(sysroot) -I&(include_libc) -I&(include_os) -c %f -o %o $(CFLAGS) $(CPPFLAGS) |>
!ld = |> $(CC) --sysroot=&(sysroot) -T $(ARCHDIR)/linker.ld -o %o $(CFLAGS) %f -L&(libc) $(LIBS) |>
!ar = |> $(AR) rcs %o %f |>